$(document).ready(function(){if($("div.err_form_invalid").length>0){checkPassword($("input.check[type='password']"));
checkMail($("input.check[type='email']"))
}$(document).on("mouseenter","img.validator",function(b){if($(this).attr("src")=="../images/invalid.png"){var a=$(this).next("div");
a.css({top:"0px",left:$(this).width()+5+"px",zIndex:1000}).fadeIn();
$(this).parent().mouseleave(function(){a.fadeOut()
})
}});
$(document).on("click","div.fastmenu_access_button",function(){var a=$("#fastmenu");
var b=$("#fastmenu_ghost");
if(a.hasClass("hidden")){a.slideDown("fast");
b.slideDown("fast");
a.removeClass("hidden");
b.removeClass("hidden")
}else{a.slideUp("fast");
b.slideUp("fast");
a.addClass("hidden");
b.addClass("hidden")
}});
$("input.autocomplete").on("keyup",function(b){var a=b.keyCode||b.which;
if(a==13){b.preventDefault();
return false
}});
$("form").submit(function(b){var a=$(this);
a.find("input[data-formreplaceid]").each(function(){$(this).val($(this).attr("data-formreplaceid"))
})
});
$(".universityAutocomplete").autocomplete({serviceUrl:"/Bendo/university/ajaxlist",zIndex:10001,onSelect:function(a){$(this).attr("data-formreplaceid",a.data)
}});
$(".professorAutocomplete").each(function(){var a=$(this).attr("data-universityId");
$(this).autocomplete({serviceUrl:"/Bendo/professor/ajaxlist",zIndex:10001,params:{universityId:a},onSelect:function(b){$(this).attr("data-formreplaceid",b.data)
}})
});
$("input.tag-input").each(function(){$(this).tagsInput({height:"35px",width:"600px",})
});
$("textarea.count").on("keyup",function(a){displayTextAreaCounter($(this))
});
$("textarea.count").each(function(a){displayTextAreaCounter($(this))
});
$("input.searchAutcomplete").each(function(){var a=$(this).attr("data-ajax-href");
$(this).autocomplete({serviceUrl:a,zIndex:10001,onSelect:function(b){window.location=b.data
},formatResult:autoCompleteFormatResult})
});
$("input[type=radio].star").each(function(){var a=$('label[for="'+$(this).attr("id")+'"]');
if(a!=undefined){$(this).attr("title",a.html())
}$(this).rating()
});
$("textarea.wmd").wmd();
$("textarea.wmd:not(.processed)").TextAreaResizer();
$("div.cutomRadio input:radio").each(function(){var a=$(this).attr("data-image-url");
var b="url('"+a+"')";
$(this).screwDefaultButtons({image:b,width:40,height:40});
$(this).change(function(){$(this).parents("div.cutomRadio").children("div").removeClass("checked");
$(this).parent().addClass("checked")
})
});
$(".preferences_cycler").click(function(){if($(this).attr("value")=="0"){$(this).removeClass("preferences_default");
$(this).addClass("preferences_like");
$(this).attr("value","1")
}else{if($(this).attr("value")=="1"){$(this).removeClass("preferences_like");
$(this).addClass("preferences_dislike");
$(this).attr("value","2")
}else{if($(this).attr("value")==2){$(this).removeClass("preferences_dislike");
$(this).addClass("preferences_default");
$(this).attr("value","0")
}}}});
$(".your_wikis_toggle").click(function(){if($(".your_wikis_content").css("display")=="none"){$(".user_home_show_hide_content").slideUp();
$(".your_wikis_content").slideDown()
}else{$(".user_home_show_hide_content").slideUp()
}});
$(".your_unis_toggle").click(function(){if($(".your_unis_content").css("display")=="none"){$(".user_home_show_hide_content").slideUp();
$(".your_unis_content").slideDown()
}else{$(".user_home_show_hide_content").slideUp()
}});
$(".your_questions_toggle").click(function(){if($(".your_questions_content").css("display")=="none"){$(".user_home_show_hide_content").slideUp();
$(".your_questions_content").slideDown()
}else{$(".user_home_show_hide_content").slideUp()
}});
$(".your_answers_toggle").click(function(){if($(".your_answers_content").css("display")=="none"){$(".user_home_show_hide_content").slideUp();
$(".your_answers_content").slideDown()
}else{$(".user_home_show_hide_content").slideUp()
}})
});
function checkValidity(c,e,b,a){if(a===undefined){a=e
}var d=c.test(e);
if(d&&a==e){d=true
}else{d=false
}return setValidity(d,b)
}function setValidity(b,a){if(b){a.removeClass("input_error");
a.addClass("input_valid");
return true
}else{a.addClass("input_error");
a.removeClass("input_valid");
return false
}}function isEmailAvailable(a){$.get("signup/emailavailable",{email:a}).success(function(c){var b=true;
if(c=="1"){b=true
}else{b=false
}return b
}).error(function(d,b,c){})
}function checkPassword(c){var d=c.val();
var a=true;
if(c.attr("name")=="passwordCheck"){var f=c.parent("form").find("input.check[type='password'][name='password']");
a=(f.val()!=c.val())
}else{var e=check_password_lenght(d);
var b=check_password_char(d);
a=(e&&b)
}setValidity(a,c)
}function check_password_lenght(c){var b=/^.{6,20}$/;
var a=b.test(c);
return a
}function check_password_char(c){var b=/((?=.*\d)(?=.*[a-z]).{0,})/;
var a=b.test(c);
return a
}function checkMail(b){var c=b.val();
var a=check_email_format(c);
if(a){check_email_availability(c)
}setValidity(a,b)
}function check_email_format(d,c){var b=/^[_A-Za-z0-9-]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$/;
var a=b.test(d);
return a
}function displayTextAreaCounter(a){var b=a.attr("maxlength");
var c=a.attr("data-counterId");
if(typeof c!=="undefined"&&c!==false){var d="";
if(typeof b!=="undefined"&&b!==false){d=parseInt(b)-a.val().length
}else{d=a.val().length
}$(c).text(d)
}}function autoCompleteFormatResult(c,e){var d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),f="("+e.replace(d,"\\$1")+")";
var a=c.value.replace(new RegExp(f,"gi"),"<strong>$1</strong>");
var b="";
console.log("type: "+c.type);
if(c.type=="university"){b="<div class='university autoCompleteSuggestionImg'></div>"
}else{if(c.type=="professor"){b="<div class='professor autoCompleteSuggestionImg'></div>"
}else{if(c.type=="course"){b="<div class='course autoCompleteSuggestionImg'></div>"
}}}return b+"<div>"+a+"</div>"
};$(document).ready(function(){$(".centerRelative, .centerRelativeDoc").each(function(){var c=$(this).parent();
if($(this).hasClass("centerRelativeDoc")){c=$(document)
}var b=$(this).css("width");
if(b.indexOf("%")>=0){var a=c.width();
$(this).css("margin-left",-$(this).width()*a/200)
}else{var a=c.width();
console.log((a-$(this).width())/2);
$(this).css("margin-left",(a-$(this).width())/2)
}});
$(document).on("mouseenter","tr.clickableRow",function(){$(this).children("td").addClass("hover")
});
$(document).on("mouseleave","tr.clickableRow",function(){$(this).children("td").removeClass("hover")
});
$(document).on("click","tr.clickableRow",function(){var a=$(this).attr("data-href");
window.location=a
});
$("a[rel*=switch]").click(function(){var d=$(this).attr("href");
var b=null;
$(".switch").each(function(){if($(this).is(d)){b=$(this)
}else{$(this).hide()
}});
b.show();
var a=b.parent().height();
var c=b.children().width();
$.modal.update(a,c);
b.find("ul.tabs > li.currentTab > a").each(function(){changeTab($(this),true)
})
});
$("ul.tabs > li > a").click(function(){changeTab($(this))
});
$("a[rel*=leanModal]").click(function(){var b=$(this).attr("href");
var a=$(this).attr("data-tab");
modal(b,a)
});
$(".tooltip").bind({mouseenter:showTooltip,mouseleave:hideTooltip});
$(".fittext").each(function(){var a=parseInt($(this).css("font-size"));
console.log("size: "+a);
$(this).textfill({maxFontPixels:a})
})
});
function changeTab(e,g){opupdatetionalArg=(typeof g==="undefined")?false:g;
var f=e.attr("href");
var c=$(f);
var b=e.parent().parent();
b.children().each(function(){var h=$(this).children("a").attr("href");
$(this).removeClass("currentTab");
$(h).hide()
});
e.parent().addClass("currentTab");
c.show();
var a=b.parent().height();
var d=c.children().width();
if(g){$.modal.update(a,d)
}}function modal(c,a){$(c).modal({opacity:50,persist:true,overlayCss:{backgroundColor:"#000"},overlayClose:true});
var b=$("ul a[href="+a+"]");
changeTab(b)
}function changeTooltipPosition(d,c){var b=$("div.tooltip_content");
var a=d.offset().left+d.width()/2-b.width()/2;
var e=d.offset().top-b.height()-10;
if(e-$(window).scrollTop()<30){e=d.offset().top+d.height()+12;
$("div.tooltip_content > div.arrow_box").removeClass("bottom").addClass("top")
}else{$("div.tooltip_content > div.arrow_box").removeClass("top").addClass("bottom")
}$("div.tooltip_content").css({top:e,left:a})
}function showTooltip(b){var a=$(this).attr("data-tooltip-id");
$("div.tooltip_content").remove();
$('<div class="tooltip_content"><div class="arrow_box"></div></div>').appendTo("body");
$(a).clone().show().appendTo("div.tooltip_content >  div");
console.log("left: "+$(this).offset().left);
changeTooltipPosition($(this),b)
}function hideTooltip(){$("div.tooltip_content").remove()
};var softratings=new Array();
var locations=new Array();
var programs=new Array();
$(document).ready(function(){$(document).on("click",".ToggleDisplayButton",function(){var d=$(this).attr("data-toogleDisplay-category");
var a=$(this).attr(d);
var c="["+d+"='"+a+"']";
var e="["+d+"='"+a+"']";
var f="["+d+"]";
var b=$("div.ToggleDisplayContent"+c);
if(b.is(":visible")){b.slideUp()
}else{$("div.ToggleDisplayContent"+f).not(e).slideUp();
b.slideDown()
}});
$(document).on("click",".FilterElementButton.Element",function(){selectElement($(this))
});
$(document).on("click",".FilterElementButton.SubElement",function(){selectSubElement($(this))
});
$(document).on("click",".DisplayReplaceButton",function(){var a=$(this).parent().children(".DisplayReplaceContent");
$(this).slideUp(300);
a.slideDown(300)
});
$(document).on("click",".SoftRatingOption",function(){changeSelection($(this))
});
$(document).on("click",".clearOption",function(){clearSelection($(this))
});
$("#general-fees-range").slider({range:true,min:0,max:70000,values:[0,70000],step:100,slide:function(a,b){updateInput(b.values[0],b.values[1])
},create:function(b,c){var a=$(this).slider("values");
updateInput(a[0],a[1])
}});
$(document).on("change","#fees_amount_min, #fees_amount_max",function(){var b=parseInt($("#fees_amount_min").val());
var a=parseInt($("#fees_amount_max").val());
if(a<b){if($(this).is("#fees_amount_max")){a=b
}else{b=a
}}$("#general-fees-range").slider("values",[b,a]);
updateInput(b,a)
});
$(document).on("click","a.submitFilter",function(d){var f=new Array();
f.push(getLocationParameter());
f.push(getProgramParameter());
f.push(getSoftRatingParameter());
var c="?";
var a=false;
for(var b=0;
b<f.length;
b++){if(f[b]!=""){if(a){c+="&"
}c+=f[b];
a=true
}}window.location=$(this).attr("href")+c;
d.preventDefault()
})
});
function getLocationParameter(){var a=getElementParameter("Location");
return"location="+a
}function getProgramParameter(){var a=getElementParameter("Program");
return"program="+a
}function getElementParameter(d){var f=getArrayFromType(d);
if(f.length==0){return""
}var e="";
for(var c=0;
c<f.length;
c++){e+=f[c].elementId;
console.log("ID: "+f[c].elementId);
var a=f[c].subelements;
if(a!=null){e+="(";
for(var b=0;
b<a.length;
b++){e+=a[b].subelementId+","
}e=e.substring(0,e.length-1);
e+=")"
}e+=","
}e=e.substring(0,e.length-1);
return e
}function getSoftRatingParameter(){console.log("lengh: "+softratings.length);
if(softratings.length==0){return""
}var b="";
for(var a=0;
a<softratings.length;
a++){b+=softratings[a].softratingId+":"+softratings[a].selectedOption;
b+=","
}b=b.substring(0,b.length-1);
return"ratings="+b
}function selectElement(b){var c=b.attr("data-element-id");
var d=getElement(b,c);
console.log("select element: "+c);
if(d==null){d=new Object();
d.elementId=c
}else{var a=d.subelements;
if(!(d.subelements!=null&&a.length>0)){removeElement(b,c);
toggleElement(b,false);
return
}}removeElement(b,c);
addElement(b,d);
toggleElement(b,true)
}function selectSubElement(a){var c=a.attr("data-parent-element-id");
var e=a.attr("data-element-id");
var d=getElement(a,c);
if(d==null){d=new Object();
d.elementId=c
}if(d.subelements==null){d.subelements=new Array()
}var b=getSubElement(d.subelements,e);
if(b==null){b=new Object();
b.subelementId=e;
d.subelements.push(b);
toggleElement(a,true)
}else{removeSubElement(d.subelements,e);
toggleElement(a,false)
}removeElement(a,c);
addElement(a,d);
toggleElement($(".FilterElementButton"+getClass(a)+"[data-element-id="+c+"]"),true)
}function getElement(a,d){var c=getArray(a);
for(var b=0;
b<c.length;
b++){if(c[b].elementId==d){return c[b];
break
}}return null
}function removeElement(a,d){var c=getArray(a);
for(var b=0;
b<c.length;
b++){if(c[b].elementId==d){c.splice(b,1);
break
}}}function addElement(a,b){var c=getArray(a);
c.push(b)
}function getArray(a){if(a.hasClass("Country")||a.hasClass("State")){return locations
}else{if(a.hasClass("Faculty")||a.hasClass("Program")){return programs
}}}function getArrayFromType(a){if(a==="Country"||a==="State"||a==="Location"){return locations
}else{if(a==="Faculty"||a==="Program"){return programs
}}}function getClass(a){if(a.hasClass("Country")||a.hasClass("State")){return".Country"
}else{if(a.hasClass("Faculty")||a.hasClass("Program")){return".Faculty"
}}}function getSubElement(a,c){for(var b=0;
b<a.length;
b++){if(a[b].subelementId==c){return c[b];
break
}}return null
}function removeSubElement(a,c){for(var b=0;
b<a.length;
b++){if(a[b].subelementId==c){a.splice(b,1);
break
}}return null
}function toggleElement(a,b){if(b){if(!a.hasClass("selected")){a.addClass("selected")
}}else{if(a.hasClass("selected")){a.removeClass("selected")
}}}function changeSelection(b){var d=b.attr("data-optionId");
var e=b.parents("li.SoftRatingElement");
e.children(".SoftRatingDefaultOption").children(".clearOption").removeClass("optionSelected");
var c=e.attr("data-softratingId");
var a=new Object();
a.softratingId=c;
a.selectedOption=d;
removeRating(c);
softratings.push(a);
b.parent().children(".optionSelected").removeClass("optionSelected");
b.addClass("optionSelected")
}function clearSelection(a){var b=a.parents("li.SoftRatingElement");
var c=b.attr("data-softratingId");
removeRating(c);
b.children(".SoftRatingOptions").find(".SoftRatingOption.optionSelected").removeClass("optionSelected");
a.addClass("optionSelected")
}function removeRating(b){for(var a=0;
a<softratings.length;
a++){if(softratings[a].softratingId==b){softratings.splice(a,1);
break
}}}function updateInput(b,a){$("#fees_amount_min").val(b);
$("#fees_amount_max").val(a)
};var functionToRunAfterAjax=new Array();
$(function(){$(".dropdown_button").mouseenter(function(){var b=$(this).parent();
var a=$(this).next("div.dropdown_content");
a.css({position:"absolute",top:$(this).height()+"px",zIndex:1000});
a.stop().show();
$(this).parent().mouseleave(function(){if(!b.hasClass("keep_open")){a.hide()
}})
});
$("div.login_button a.dropdown_button").mouseenter(function(){var a=$(this).parent();
var b=$(this).next("div.dropdown_content");
b.css({position:"absolute",top:$(this).height()+"px",left:$(this).width()-b.width()+"px",zIndex:2000});
$("div.dropdown_content input").focus(function(c){a.addClass("keep_open")
});
a.focusout(function(c){a.removeClass("keep_open")
})
});
$(document).on("focus","form.input_type1 input",function(a){var b=$(this).parent().children("div.form_info");
if(b.height()<45){b.height(45)
}b.stop().slideDown("fast");
$("form.input_type1 input").focusout(function(c){b.stop().slideUp("fast")
})
})
});